<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.omcube.model.mapper.InsurancePayTemplateMapper">
	<!--返回结果映射 -->
	<resultMap id="InsurancePayTemplateInfo" type="com.omcube.model.po.InsurancePayTemplatePO">
		<id column="UID" property="uId"></id>
		<id column="APPLY_NO" property="applyNo"></id>
		<result column="APPLY_NAME" property="applyName" javaType="java.lang.String"></result>
		<result column="PER_ENDM_RATE" property="perEndmRate" javaType="java.lang.Double"></result>
		<result column="PER_ENDM_FIXED" property="perEndmFixed"
			javaType="java.lang.Double"></result>
		<result column="COM_ENDM_RATE" property="comEndmRate" javaType="java.lang.Double"></result>
		<result column="COM_ENDM_FIXED" property="comEndmFixed"
			javaType="java.lang.Double"></result>
		<result column="PER_MEDI_RATE" property="perMediRate" javaType="java.lang.Double"></result>
		<result column="PER_MEDI_FIXED" property="perMediFixed"
			javaType="java.lang.Double"></result>
		<result column="COM_MEDI_RATE" property="comMediRate" javaType="java.lang.Double"></result>
		<result column="COM_MEDI_FIXED" property="comMediFixed"
			javaType="java.lang.Double"></result>
		<result column="PER_UNEM_RATE" property="perUnemRate" javaType="java.lang.Double"></result>
		<result column="PER_UNEM_FIXED" property="perUnemFixed"
			javaType="java.lang.Double"></result>
		<result column="COM_UNEM_RATE" property="comUnemRate" javaType="java.lang.Double"></result>
		<result column="COM_UNEM_FIXED" property="comUnemFixed"
			javaType="java.lang.Double"></result>
		<result column="PER_EMPL_RATE" property="perEmplRate" javaType="java.lang.Double"></result>
		<result column="PER_EMPL_FIXED" property="perEmplFixed"
			javaType="java.lang.Double"></result>
		<result column="COM_EMPL_RATE" property="comEmplRate" javaType="java.lang.Double"></result>
		<result column="COM_EMPL_FIXED" property="comEmplFixed"
			javaType="java.lang.Double"></result>
		<result column="PER_MATE_RATE" property="perMateRate" javaType="java.lang.Double"></result>
		<result column="PER_MATE_FIXED" property="perMateFixed"
			javaType="java.lang.Double"></result>
		<result column="COM_MATE_RATE" property="comMateRate" javaType="java.lang.Double"></result>
		<result column="COM_MATE_FIXED" property="comMateFixed"
			javaType="java.lang.Double"></result>
		<result column="PER_HOUS_RATE" property="perHousRate" javaType="java.lang.Double"></result>
		<result column="PER_HOUS_FIXED" property="perHousFixed"
			javaType="java.lang.Double"></result>
		<result column="COM_HOUS_RATE" property="comHousRate" javaType="java.lang.Double"></result>
		<result column="COM_HOUS_FIXED" property="comHousFixed"
			javaType="java.lang.Double"></result>
		<result column="REMARK" property="remark" javaType="java.lang.String"></result>
		<result column="CREATED_BY" property="createdBy" javaType="java.lang.String"></result>
		<result column="CREATED_DATE" property="createdDate" javaType="java.util.Date"></result>
		<result column="UPDATED_BY" property="updatedBy" javaType="java.lang.String"></result>
		<result column="UPDATED_DATE" property="updatedDate" javaType="java.util.Date"></result>
	</resultMap>

	<!--添加模板信息 -->
	<insert id="addInsurancePayTemplate" parameterType="com.omcube.model.po.InsurancePayTemplatePO">
		INSERT INTO
		EP_WELCOE_CTRL
		(UID,APPLY_NO,APPLY_NAME,PER_ENDM_RATE,PER_ENDM_FIXED,COM_ENDM_RATE,COM_ENDM_FIXED,PER_MEDI_RATE,PER_MEDI_FIXED,COM_MEDI_RATE,COM_MEDI_FIXED,PER_UNEM_RATE,PER_UNEM_FIXED,COM_UNEM_RATE,COM_UNEM_FIXED,PER_EMPL_RATE,PER_EMPL_FIXED,COM_EMPL_RATE,COM_EMPL_FIXED,PER_MATE_RATE,PER_MATE_FIXED,COM_MATE_RATE,COM_MATE_FIXED,PER_HOUS_RATE,PER_HOUS_FIXED,COM_HOUS_RATE,COM_HOUS_FIXED,REMARK,CREATED_BY,CREATED_DATE)
		VALUES
		(#{uId},#{applyNo},#{applyName},#{perEndmRate},#{perEndmFixed},#{comEndmRate},#{comEndmFixed},#{perMediRate},#{perMediFixed},#{comMediRate},#{comMediFixed},
		#{perUnemRate},#{perUnemFixed},#{comUnemRate},#{comUnemFixed},#{perEmplRate},#{perEmplFixed},#{comEmplRate},#{comEmplFixed},#{perMateRate},#{perMateFixed},#{comMateRate},
		#{comMateFixed},#{perHousRate},#{perHousFixed},#{comHousRate},#{comHousFixed},#{remark},#{createdBy},DATE_FORMAT(NOW(),'%y-%m-%d'))
	</insert>

	<!--修改系数设置模板的信息 -->
	<update id="updateInsurancePayTemplate" parameterType="com.omcube.model.po.InsurancePayTemplatePO">
		update
		EP_WELCOE_CTRL set
		APPLY_NAME=#{applyName},PER_ENDM_RATE=#{perEndmRate},PER_ENDM_FIXED=#{perEndmFixed},COM_ENDM_RATE=#{comEndmRate},COM_ENDM_FIXED=#{comEndmFixed},PER_MEDI_RATE=#{perMediRate},PER_MEDI_FIXED=#{perMediFixed},COM_MEDI_RATE=#{comMediRate},COM_MEDI_FIXED=#{comMediFixed},PER_UNEM_RATE=#{perUnemRate},PER_UNEM_FIXED=#{perUnemFixed},COM_UNEM_RATE=#{comUnemRate},COM_UNEM_FIXED=#{comUnemFixed},PER_EMPL_RATE=#{perEmplRate},PER_EMPL_FIXED=#{perEmplFixed},COM_EMPL_RATE=#{comEmplRate},COM_EMPL_FIXED=#{comEmplFixed},PER_MATE_RATE=#{perMateRate},PER_MATE_FIXED=#{perMateFixed},COM_MATE_RATE=#{comMateRate},
		COM_MATE_FIXED=#{comMateFixed},PER_HOUS_RATE=#{perHousRate},PER_HOUS_FIXED=#{perHousFixed},COM_HOUS_RATE=#{comHousRate},COM_HOUS_FIXED=#{comHousFixed},REMARK=#{remark},UPDATED_BY=#{updatedBy},UPDATED_DATE=DATE_FORMAT(NOW(),'%y-%m-%d')
		where UID = #{uId} and APPLY_NO = #{applyNo}
	</update>

	<!--根据uid和applyNo查询某个模板的详细信息 -->
	<select id="queryInsurancePayTemplate" resultMap="InsurancePayTemplateInfo">
		SELECT
		UID,APPLY_NO,APPLY_NAME,PER_ENDM_RATE,PER_ENDM_FIXED,COM_ENDM_RATE,COM_ENDM_FIXED,PER_MEDI_RATE,PER_MEDI_FIXED,COM_MEDI_RATE,COM_MEDI_FIXED,PER_UNEM_RATE,PER_UNEM_FIXED,COM_UNEM_RATE,COM_UNEM_FIXED,
		PER_EMPL_RATE,PER_EMPL_FIXED,COM_EMPL_RATE,COM_EMPL_FIXED,PER_MATE_RATE,PER_MATE_FIXED,COM_MATE_RATE,COM_MATE_FIXED,PER_HOUS_RATE,PER_HOUS_FIXED,COM_HOUS_RATE,COM_HOUS_FIXED,REMARK,CREATED_BY,CREATED_DATE,UPDATED_BY,UPDATED_DATE
		FROM EP_WELCOE_CTRL
		WHERE UID=#{arg0} AND APPLY_NO= #{arg1}
	</select>

	<!--获取所有的模板列表 -->
	<select id="queryInsurancePayTemplates" parameterType="java.lang.String"
		resultMap="InsurancePayTemplateInfo">
		SELECT
		UID,APPLY_NO,APPLY_NAME,REMARK,CREATED_BY,CREATED_DATE FROM
		EP_WELCOE_CTRL WHERE UID = #{uId}
	</select>

	<!--获取最大的applyNo模板编号 -->
	<select id="queryMaxApplyNo" parameterType="java.lang.String"
		resultType="java.lang.String">
		SELECT APPLY_NO FROM EP_WELCOE_CTRL WHERE UID = #{uId}
		ORDER
		BY APPLY_NO
		DESC LIMIT 1
	</select>

</mapper>